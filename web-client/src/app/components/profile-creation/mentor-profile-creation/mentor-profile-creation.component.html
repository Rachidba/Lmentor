<div fxLayout="row" fxLayoutAlign="center canter">
<mat-horizontal-stepper [linear]="true" #stepper fxFlex.xs="100" fxFlex.gt-xs="80" fxFlex.gt-sm="60">
    <mat-step [stepControl]="personalInfosFormGroup" >
        <form [formGroup]="personalInfosFormGroup" fxLayout="column">
            <ng-template matStepLabel>Informations personelles</ng-template>
            <div fxLayout="row" fxLayoutGap="5px">
                <mat-form-field appearance="outline" fxFlex="50">
                    <mat-label>Prenom</mat-label>
                    <input
                        type="text"
                        matInput
                        placeholder="Prenom"
                        formControlName="fName">
                    <mat-error *ngIf="personalFormControls.fName.errors?.required">Ce champ est obligatoire</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline" fxFlex="50">
                    <mat-label>Nom</mat-label>
                    <input 
                        type="text"
                        matInput
                        placeholder="Nom"
                        formControlName="lName">
                    <mat-error *ngIf="personalFormControls.lName.errors?.required">Ce champ est obligatoire</mat-error>
                </mat-form-field>
            </div>
            <div fxLayout="row" fxLayoutAlign="center" fxLayoutGap="5px">
                <mat-form-field appearance="outline" fxFlex="50">
                    <mat-label>Numero de telephone</mat-label>
                    <input
                        type="tel"
                        matInput
                        placeholder="Numero de telephone"
                        formControlName="phoneNumber">
                    <mat-error *ngIf="personalFormControls.phoneNumber.errors?.required">Ce champ est obligatoire</mat-error>
                    <mat-error *ngIf="personalFormControls.phoneNumber.errors?.tel">Entrez un numero de tep valide</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline" fxFlex="50">
                    <mat-label>Ville</mat-label>
                    <mat-select formControlName="city">
                      <mat-option *ngFor="let city of cities" [value]="city">{{ city }}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div fxLayout="column">
                <mat-form-field appearance="outline" fxFlex="100">
                    <mat-label>Title</mat-label>
                    <input 
                        type="text"
                        matInput
                        placeholder="Titre"
                        formControlName="title">
                    <mat-error *ngIf="personalFormControls.title.errors?.required">Ce champ est obligatoire</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline" fxFlex="100">
                    <mat-label>Presentation</mat-label>
                    <textarea 
                        type="text"
                        rows="4"
                        matInput
                        placeholder="Entrez votre description (Presentez vos competences et comment vous pouvez aider vos etudiants a attendre leurs objectifs)"
                        formControlName="description">
                    </textarea>
                    <mat-hint align="start"><strong>Minimum 100 caracteres</strong> </mat-hint>
                    <mat-hint align="end">{{ personalFormControls.description.value.length }} / 100</mat-hint>
                    <mat-error *ngIf="personalFormControls.description.errors?.required">Ce champ est obligatoire</mat-error>
                    <mat-error *ngIf="personalFormControls.description.errors?.minlength">Minimum 100 caracteres</mat-error>
                </mat-form-field>
            </div>
            <div fxLayoutAlign="end">
                <button mat-button matStepperNext color="primary" mat-raised-button>Next</button>
            </div>
        </form>
    </mat-step>
    <mat-step [stepControl]="educationInfosFormGroup">
        <form [formGroup]="educationInfosFormGroup">
            <ng-template matStepLabel>Education</ng-template>
            <section>
                <h3>Entrer les informations sur votre dernier (ou courant) etudes</h3>
                <div fxLayout="row" fxLayoutGap="5px">
                    <mat-form-field fxFlex="50" appearance="outline">
                        <mat-label>Etablissement</mat-label>
                        <input 
                            type="text"
                            matInput
                            placeholder="Nom de l'ecole"
                            formControlName="school">
                        <mat-error *ngIf="educationFormControls.school.errors?.required">Ce champ est obligatoire</mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline" fxFlex="50">
                        <mat-label>Diplome</mat-label>
                        <mat-select formControlName="degree">
                            <mat-option value="Bac+2">Bac+2</mat-option>
                            <mat-option value="Licence">Licence</mat-option>
                            <mat-option value="Master">Master</mat-option>
                            <mat-option value="Doctorat">Doctorat</mat-option>
                            <mat-option value="Autre">Autre</mat-option>
                        </mat-select>
                        <mat-error *ngIf="educationFormControls.degree.errors?.required">Ce champ est obligatoire</mat-error>
                    </mat-form-field>
                </div>
                <div fxLayout="row" fxLayoutGap="5px">
                    <mat-form-field appearance="outline" fxFlex="50">
                        <mat-label>Annee de debut</mat-label>
                        <mat-select formControlName="startYear">
                            <mat-option *ngFor="let year of years" [value]="year">{{ year }}</mat-option>
                        </mat-select>
                        <mat-error *ngIf="educationFormControls.startYear.errors?.required">Ce champ est obligatoire</mat-error>
                    </mat-form-field>
                    <mat-form-field appearance="outline" fxFlex="50">
                        <mat-label>Annee de fin</mat-label>
                        <mat-select formControlName="endYear">
                            <mat-option value="-1">En cours</mat-option>
                            <mat-option *ngFor="let year of years" [value]="year">{{ year }}</mat-option>
                        </mat-select>
                        <mat-error *ngIf="educationFormControls.endYear.errors?.required">Ce champ est obligatoire</mat-error>
                    </mat-form-field>
                </div>
                <div>
                    <mat-form-field appearance="outline" fxFlex="100">
                        <mat-label>Description</mat-label>
                        <textarea 
                            type="text"
                            rows="2"
                            matInput
                            placeholder="Vous pouvez rajouter une description (optionnelle)"
                            formControlName="description">
                        </textarea>
                    </mat-form-field>
                </div>
            </section>
            <div fxLayoutAlign="end" fxLayoutGap="10px">
                <button mat-button matStepperPrevious color="primary" mat-raised-button>Back</button>
                <button mat-button matStepperNext color="primary" mat-raised-button>Next</button>
            </div>
        </form>
    </mat-step>
    <mat-step [stepControl]="professionalInfosFormGroup">
        <form [formGroup]="professionalInfosFormGroup">
            <ng-template matStepLabel>Travail</ng-template>
            <section>
                <h3>Entrez les informations sur votre dernier (ou acctuel) travaille</h3>
                <div fxLayout="row" fxLayoutGap="5px">
                    <mat-form-field appearance="outline" fxFlex="50">
                        <mat-label>Entreprise</mat-label>
                        <input 
                            type="text"
                            matInput
                            placeholder="Nom de l'entreprise"
                            formControlName="companyName">
                    </mat-form-field>
                    <mat-form-field appearance="outline" fxFlex="50">
                        <mat-label>Poste occupé</mat-label>
                        <input 
                            type="text"
                            matInput
                            placeholder="Poste occupé au sein de l'entreprise"
                            formControlName="role">
                    </mat-form-field>
                </div>
                <div fxLayout="row" fxLayoutGap="5px">
                    <mat-form-field appearance="outline" fxFlex="50">
                        <mat-label>Annee de debut</mat-label>
                        <mat-select formControlName="startYear">
                            <mat-option *ngFor="let year of years" [value]="year">{{ year }}</mat-option>
                        </mat-select>
                    </mat-form-field>
                    <mat-form-field appearance="outline" fxFlex="50">
                        <mat-label>Annee de fin</mat-label>
                        <mat-select formControlName="endYear">
                            <mat-option value="-1">En cours</mat-option>
                            <mat-option *ngFor="let year of years" [value]="year">{{ year }}</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div fxLayout="column">
                    <mat-form-field appearance="outline">
                        <mat-label>Description</mat-label>
                        <textarea 
                            type="text"
                            rows="2"
                            matInput
                            placeholder="Description"
                            formControlName="Vous pouvez rajouter une description (optionnelle)">
                        </textarea>
                    </mat-form-field>
                    <mat-form-field appearance="outline">
                        <mat-label>Profile Linkedin</mat-label>
                        <input 
                            type="text"
                            matInput
                            placeholder="Vous pouvez rajouter l'URL de votre profile Linkedin"
                            formControlName="linkedinUrl">
                    </mat-form-field>
                </div>
            </section>
            <div fxLayoutAlign="end" fxLayoutGap="10px">
                <button mat-button matStepperPrevious color="primary" mat-raised-button>Back</button>
                <button mat-button matStepperNext color="primary" mat-raised-button>Next</button>
            </div>
        </form>
    </mat-step>
    <mat-step [stepControl]="expertiseInfosFormGroup">
        <form [formGroup]="expertiseInfosFormGroup">
            <ng-template matStepLabel>Domaine d'expertise</ng-template>
            <div fxLayout="column" fxLayoutGap="5px">
                <h3>Entrez votre doamine d'experitse et vos competences</h3>
                <mat-form-field appearance="outline" fxFlex="100">
                    <mat-label>Domaine d'expertise</mat-label>
                    <mat-select formControlName="category" #c (selectionChange)="changeCategory(c.value)">
                        <mat-option *ngFor="let category of categories" [value]="category.id">{{ category.categoryName }}</mat-option>
                    </mat-select>
                    <mat-error *ngIf="experienceFormControls.category.errors?.required">Ce champ est obligatoire</mat-error>
                </mat-form-field>
                <mat-form-field appearance="outline">
                    <mat-label>Competences</mat-label>
                    <mat-select formControlName="subcategories" multiple>
                      <mat-option *ngFor="let subcategory of subcategories" [value]="subcategory.id">{{subcategory.subcategoryName}}</mat-option>
                    </mat-select>
                    <mat-error *ngIf="experienceFormControls.subcategories.errors?.required">Ce champ est obligatoire</mat-error>
                </mat-form-field>
            </div>
            <div fxLayoutAlign="end" fxLayoutGap="10px">
                <button mat-button matStepperPrevious color="primary" mat-raised-button>Back</button>
                <button mat-button (click)="onSubmitForm()" color="primary" mat-raised-button>Enregistrer</button>
            </div>
        </form>
    </mat-step>
</mat-horizontal-stepper>
</div>